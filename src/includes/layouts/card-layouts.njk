{% macro featured(posts) %}
  <div class="featured-posts grid auto-cols-fr lg:grid-cols-3 gap-3 my-8">
    {% for post in posts %}
      {% if not post.data.draft and post.data.featured %}
        {{card(post)}}
      {% endif %}
    {% endfor %}
  </div>
{% endmacro %}

{% macro recommended(posts) %}
  <div class="recommended-posts grid auto-cols-fr lg:grid-cols-3 gap-3 my-8">
    {% for post in posts %}
      {% if not post.data.draft and post.data.featured %}
        {{card(post)}}
      {% endif %}
    {% endfor %}
  </div>
{% endmacro %}

{% macro trending(posts) %}
  <div class="grid gap-3 my-8">
    {% for post in posts %}
      {% if not post.data.draft and post.data.trending %}
        <div class="mb-4">
          <span class="text-xs" datetime="{{ post.data.date }}">{{ post.data.date | dateDisplay }}
          </span>
          <h2 class="mt-1 mb-4">
            <a class="block text-2xl" href="{{ post.url | url }}">{{ post.data.title }}</a>
          </h2>
          <p class="mb-4 opacity-75">{{ post.data.description }}</p>
          <a class="" href="{{ site.baseUrl }}">Continue reading {{ post.data.title }}</a>
        </div>
      {% endif %}
    {% endfor %}

  </div>
{% endmacro %}

{% macro card(post) %}
  <div class="w-full h-full featured-post relative shadow rounded">
    <span
        class="absolute text-white top-0 left-0 p-2"
        datetime="{{ post.data.date }}"
      >
      {{ post.data.date | dateDisplay }}
    </span>
    <img class="rounded-t-sm w-full object-fill object-center" src="{{ post.data.image }}" alt="{{ post.data.image }}"/>
    <div class="p-3 flex flex-col">
      <h2 class="mt-1 mb-4">
        <a class="block" href="{{ post.url | url }}">{{ post.data.title }}</a>
      </h2>
      <p class="opacity-75 mb-4">{{ post.data.excerpt }}</p>
      <a class="text-link p-1 text-xs" href="{{ post.url | url }}">Keep reading...</a>
    </div>
  </div>
{% endmacro %}